<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; SWIFTGalaxy 1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Coordinate transformations" href="../coordinate_transformations/index.html" />
    <link rel="prev" title="SWIFTGalaxy" href="../index.html" />
 <script type="text/javascript">
    $(document).ready(function() {
        //
        //
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> SWIFTGalaxy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-packages">Python packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../coordinate_transformations/index.html">Coordinate transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../additional_coordinates/index.html">Additional coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../halo_finders/index.html">Halo finders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../masking/index.html">Particle masking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html#indices-and-tables">Indices and tables</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SWIFTGalaxy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Getting Started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/getting_started/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline"></a></h1>
<p><a class="reference internal" href="../modules/swiftgalaxy.html#module-swiftgalaxy" title="swiftgalaxy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftgalaxy</span></code></a> facilitates analyses of individual galaxies from cosmological hydrodynamical simulations executed with the <a class="reference external" href="http://swift.dur.ac.uk">SWIFT</a> code. The core <a class="reference internal" href="../modules/swiftgalaxy.reader.html#swiftgalaxy.reader.SWIFTGalaxy" title="swiftgalaxy.reader.SWIFTGalaxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTGalaxy</span></code></a> class makes selecting particles belonging to a galaxy, transforming their coordinates, masking its particle arrays, working with spherical or cylindrical coordinates, accessing its integrated properties computed by a halo finder, and more, easy. It is built upon the <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.reader.html#swiftsimio.reader.SWIFTDataset" title="(in SWIFTsimIO)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTDataset</span></code></a> from <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.html#module-swiftsimio" title="(in SWIFTsimIO)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftsimio</span></code></a> and takes advantage of that module’s lazy-loading and unit-awareness features. Users already familiar with usage of <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.html#module-swiftsimio" title="(in SWIFTsimIO)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftsimio</span></code></a> will find that any syntax to interact with a <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.reader.html#swiftsimio.reader.SWIFTDataset" title="(in SWIFTsimIO)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTDataset</span></code></a> also works with a <a class="reference internal" href="../modules/swiftgalaxy.reader.html#swiftgalaxy.reader.SWIFTGalaxy" title="swiftgalaxy.reader.SWIFTGalaxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTGalaxy</span></code></a>.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">python3.6</span></code> or higher is required (<code class="docutils literal notranslate"><span class="pre">&gt;=3.9</span></code> is preferred).</p>
<section id="python-packages">
<h3>Python packages<a class="headerlink" href="#python-packages" title="Permalink to this headline"></a></h3>
<p>Required:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.html#module-swiftsimio" title="(in SWIFTsimIO)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftsimio</span></code></a>, required to provide the <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.reader.html#swiftsimio.reader.SWIFTDataset" title="(in SWIFTsimIO)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTDataset</span></code></a> class and related functionality (note that <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.html#module-swiftsimio" title="(in SWIFTsimIO)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftsimio</span></code></a> has additional required dependencies).</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.22)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a>, required to support various array operations.</p></li>
<li><p><a class="reference external" href="https://unyt.readthedocs.io/en/stable/modules/unyt.html#module-unyt" title="(in unyt vv2.8.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unyt</span></code></a>, required for unit calculations.</p></li>
</ul>
<p>Optional:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/index.html#module-scipy" title="(in SciPy v1.8.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy</span></code></a>, required to specify rotations via the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.transform.Rotation.html#scipy.spatial.transform.Rotation" title="(in SciPy v1.8.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rotation</span></code></a> class.</p></li>
<li><p><a class="reference external" href="https://velociraptor-python.readthedocs.io/en/latest/modules/velociraptor.html#module-velociraptor" title="(in VELOCIraptor Python Tools)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">velociraptor</span></code></a>, required to enable support for <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2019PASA...36...21E/abstract">Velociraptor</a> halo finder outputs.</p></li>
</ul>
</section>
</section>
<section id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline"></a></h2>
<p><a class="reference internal" href="../modules/swiftgalaxy.html#module-swiftgalaxy" title="swiftgalaxy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftgalaxy</span></code></a> can be installed using the python packaging manager, <code class="docutils literal notranslate"><span class="pre">pip</span></code>, or any other packaging manager that you wish to use:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">swiftgalaxy</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../modules/swiftgalaxy.html#module-swiftgalaxy" title="swiftgalaxy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swiftgalaxy</span></code></a> is not hosted on PyPI yet, so <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">swiftgalaxy</span></code> will fail. Use the instructions below instead.</p>
</div>
<p>Note that this will also install required dependencies.</p>
<p>To set up the code for development, first clone the latest master from <a class="reference external" href="https://github.com/SWIFTSIM/swiftgalaxy">github</a>:</p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/SWIFTSIM/swiftgalaxy.git</span></code></p>
<p>and install with <code class="docutils literal notranslate"><span class="pre">pip</span></code> using the <code class="docutils literal notranslate"><span class="pre">-e</span></code> flag,</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">swiftgalaxy/</span></code></p>
</section>
<section id="quick-start">
<h2>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline"></a></h2>
<p>Assuming we have a snapshot file <code class="file docutils literal notranslate"><em><span class="pre">snap</span></em><span class="pre">.hdf5</span></code>, and a halo catalogue provided by Velociraptor <code class="file docutils literal notranslate"><em><span class="pre">halos</span></em><span class="pre">.properties</span></code>, <code class="file docutils literal notranslate"><em><span class="pre">halos</span></em><span class="pre">.catalog_groups</span></code>, etc., with the default names for the arrays of coordinates, velocities and particle_ids, we can initialise a <code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTGalaxy</span></code> for the first row (indexed from 0) in the halo catalogue very easily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">swiftgalaxy</span> <span class="kn">import</span> <span class="n">SWIFTGalaxy</span><span class="p">,</span> <span class="n">Velociraptor</span>
<span class="n">sg</span> <span class="o">=</span> <span class="n">SWIFTGalaxy</span><span class="p">(</span>
    <span class="s1">&#39;snap.hdf5&#39;</span><span class="p">,</span>
    <span class="n">Velociraptor</span><span class="p">(</span>
        <span class="s1">&#39;halos&#39;</span><span class="p">,</span>
        <span class="n">halo_index</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Like a <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.reader.html#swiftsimio.reader.SWIFTDataset" title="(in SWIFTsimIO)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTDataset</span></code></a>, the particle datasets are accessed as below, and all data are loaded ‘lazily’, on demand.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sg</span><span class="o">.</span><span class="n">gas</span><span class="o">.</span><span class="n">particle_ids</span>
<span class="n">sg</span><span class="o">.</span><span class="n">dark_matter</span><span class="o">.</span><span class="n">coordinates</span>
</pre></div>
</div>
<p>However, information from the halo finder is used to select only the particles identified as bound to this galaxy. The coordinate system is centred in both position and velocity on the centre and peculiar velocity of the galaxy, as determined by the halo finder. The coordinate system can be further manipulated, and all particle arrays will stay in a consistent reference frame at all times.</p>
<p>Again like for a <a class="reference external" href="https://swiftsimio.readthedocs.io/en/latest/modules/swiftsimio.reader.html#swiftsimio.reader.SWIFTDataset" title="(in SWIFTsimIO)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTDataset</span></code></a>, the units and metadata are available:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sg</span><span class="o">.</span><span class="n">units</span>
<span class="n">sg</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
<p>The halo finder interface is accessible as shown below. What this interface looks like depends on the halo finder being used, but will provide values for the individual galaxy of interest.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sg</span><span class="o">.</span><span class="n">halo_finder</span>
</pre></div>
</div>
<p>In this case with <a class="reference internal" href="../modules/swiftgalaxy.halo_finders.html#swiftgalaxy.halo_finders.Velociraptor" title="swiftgalaxy.halo_finders.Velociraptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Velociraptor</span></code></a>, we can get the virial mass like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sg</span><span class="o">.</span><span class="n">halo_finder</span><span class="o">.</span><span class="n">masses</span><span class="o">.</span><span class="n">mvir</span>
</pre></div>
</div>
<p>The further features of a <a class="reference internal" href="../modules/swiftgalaxy.reader.html#swiftgalaxy.reader.SWIFTGalaxy" title="swiftgalaxy.reader.SWIFTGalaxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">SWIFTGalaxy</span></code></a> are detailed in the next sections.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="SWIFTGalaxy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../coordinate_transformations/index.html" class="btn btn-neutral float-right" title="Coordinate transformations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kyle Oman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>